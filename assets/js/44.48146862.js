(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{388:function(n,s,a){"use strict";a.r(s);var e=a(0),t=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("p",[s("strong",[n._v("华为光猫HS8546V5获取超级密码\\改华为界面")])]),n._v(" "),s("p",[n._v("修改华为界面之前一定要记住你的网络配置（WAN设置之类的），最好截图保存以防忘记。")]),n._v(" "),s("p",[n._v("宽带用户名和密码可以发送KDMM到10086")]),n._v(" "),s("p",[n._v("原始超密 ：CMCCAdmin   aDm8H%MdA")]),n._v(" "),s("p",[n._v("移动光猫随机推送超级密码开头为CMCCAdmin加XXXXXX")]),n._v(" "),s("p",[n._v("获取超级密码方法：")]),n._v(" "),s("p",[n._v("1、电脑通过网线或无线连接到光猫。请勿连接光纤！若已连接，请拔掉光纤重启再操作\n2、运行ONT-V3-V5工具，选择维修V5使能，刷新连接到光猫的网卡，点击启动。\n3、此时光猫所有指示灯闪烁，等到所有指示灯全亮，ONT工具下面连接数1，点击停止按钮，关闭工具程序，断电重新启动光猫。\n4、开启Windows系统启用Telnet客户端。开始菜单—控制面板—程序和功能—打开或关闭Windows功能—勾选Telnet客户端—确定")]),n._v(" "),s("p",[n._v("然后就是连接光猫了")]),n._v(" "),s("p",[n._v("telnet 192.168.1.1")]),n._v(" "),s("p",[n._v("随后需要输入账户和密码，这个账户通常是 root ，当然你可能会需要尝试以下其他密码：")]),n._v(" "),s("p",[n._v("Hw8@CMCC\nHw8@cMcc\nuseradmin\nadmin\nhg2x0\n如果这里的密码都不能成功登录，你可能需要自己在网上搜索更新的密码。")]),n._v(" "),s("p",[n._v("3 启动Shell\n在成功连接的telnel中，输入下面多条命令将启动shell并到达配置文件的存储目录:")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("su")]),n._v("\n")])])]),s("p",[n._v("你应该看到“success!”字样在屏幕出现，左侧的提示符页变为")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("SU_WAP"),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v(">")]),n._v("\n")])])]),s("p",[n._v("随后输入：")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("shell\n")])])]),s("p",[n._v("你将看到如下的BusyBox启动的相关提示：")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("BusyBox v1.30.1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" built-in shell "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("ash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\nEnter "),s("span",{pre:!0,attrs:{class:"token string"}},[n._v("'help'")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("for")]),n._v(" a list of built-in commands.\nprofile close core dump\n")])])]),s("p",[n._v("同时左侧的提示符页变为：")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("WAP"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("Dopra Linux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# ")]),n._v("\n")])])]),s("p",[n._v("这时候cd到需要的目录中：")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" /mnt/jffs2\n")])])]),s("p",[n._v("你可以通过 ls 命令来查看该目录下的一些文件，保存有超级密码的配置文件名为 hw_ctree.xml ，这是一份加密的配置文件。")]),n._v(" "),s("p",[n._v("4 解密配置文件\n为了保证安全，首先需要将配置文件复制一份。提示：如果你遇到如下找不到命令情况：")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[n._v("/bin/sh: aescrypt2: not found\n/bin/sh: cp: not found\n")])])]),s("p",[n._v("可以通过退出shell，重新启动shell的方式来解决。在成功之前，你可能需要多次尝试。")]),n._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("exit")]),n._v("\nshell\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" /mnt/jffs2\n")])])]),s("p",[n._v("现在，复制配置文件：")]),n._v(" "),s("p",[n._v("cp hw_ctree.xml myconf.xml.gz # 待会会解密出一个压缩格式文件,所以直接在这里命名为.gz\n然后使用aescrypt2解密这个后缀为.gz的xml文件:")]),n._v(" "),s("p",[n._v("aescrypt2 1 myconf.xml.gz tmp\naescrypt2 "),s("mode",[s("input",{attrs:{file:""}}),n._v(" "),s("outputfilename",[n._v("\n值得注意的是，aescrypt2似乎会无视 "),s("outputfilename",[n._v(" 参数，输出在原来的文件名上，这个实例中就是myconf.xml.gz\n接下来解压这个文件：")])],1)],1)],1),n._v(" "),s("p",[n._v("gzip -d myconf.xml.gz\n将得到一个名为 myconf.xml 的文件，接下来cat出加密的Password字符串：")]),n._v(" "),s("p",[n._v("cat myconf.xml|grep CMCCAdmin\n在输出中找到类似下方内容的字符串，他们通常位于输出的第一行，应该很容易找到：")]),n._v(" "),s("p",[n._v('UserName="CMCCAdmin" Password="$2@uIc/AkarL8Iwo)FLER@lHy_Y&ltXdfs%orQ9g4yw4$"\n双引号内的字符串就是加密后的密码，复制他们。打开华为配置加解密工具(huawei.exe), 粘贴刚刚复制的字符串到“密文解密”一栏，点击“$2解密”,即可得到超级密码。注意：在某些地区，你可能需要在解密出的这个字符串前面加上 CMCCAdmin# 或 CMCCAdmin 才能组成正确的超级密码。如果解密出的字符串为 1234#1234 ，那么除了这个字符串本身就是超级密码以外，还有以下两种可能：')]),n._v(" "),s("p",[n._v("CMCCAdmin#1234#1234\nCMCCAdmin1234#1234")]),n._v(" "),s("p",[n._v('5、打开一键获取密码.bat，找到UserName="CMCCAdmin" Password="$2yWqT3<n.L@UzTLN;ujY-FYt~QeSv;;Jby^#/KjR4$" UserLevel="0" Enable="1" Alias="cpe-2" PassMode，复制到写字板（删除引号中的换行字符，要不然下一步出错，无法解密）\n6、将双引号里面的内容复制到华为解密软件，点$2解密（引号内密文示例：$2yWqT3<n.L@UzTLN;ujY-FYt~QeSv;;Jby^#/KjR4$），得到超级密码 CMCCAdmin#b1Kz4Dc)\n7、登录光猫修改相关配置（用户名：CMCCAdmin 密码：刚刚获得的CMCCAdmin#b1Kz4Dc），进入光猫把LAN口SSH功能打开')]),n._v(" "),s("p",[n._v("改华为界面：\n一、验证是否补全shell\n用putty软件，选择ssh， 192.168.1.1端口(默认)\n通讯建立后，用户名：root 回车；\n密码：Hw8@cMcc (输入不显示，注意大小写，直接回车；已华为界面的用户名admin密码 adminHW)\nsu 回车\nshell 回车\ncd /mnt/jffs2 回车\nls 回车\n看到很多可以执行的命令参数，证明补全shell成功了。")]),n._v(" "),s("p",[n._v('二、切换华为界面\nTelnet或SSH连接光猫，输入账号root密码Hw8@cMcc(密码不显示)回车\nsu 回车\nshell 回车\ncd /mnt/jffs2        （cd后有空格）\nvi hw_boardinfo\n1.华为界面\n（不要使用restorehwmode.sh不可恢复移动界面！！！！！！）\n按键盘下键，找到下面两条，移动 :CMCC  电信 :E8C 华为 :COMMON\n按i键，修改如下\nobj.id = "0x0000001a" ; obj.value = "COMMON";^M'),s("br"),n._v('\nobj.id = "0x0000001b" ; obj.value = "COMMON";^M\nobj.id = "0x00000031" ; obj.value = "NOCHOOSE";^M\n按Esc退出编辑模式，输入**:wq!强制**保存退出（对只读文件）\nvi hw_boardinfo.bak也一起改掉，方法和上面一样，:wq保存\n重启光猫')]),n._v(" "),s("p",[n._v("（不要使用restorehwmode.sh不可恢复移动界面！！！！！！）（使用restorehwmode.sh后.超级账户名：telecomadmin,密码：admintelecom。）\n一、补全shell\n必须补全shell，否则无法进行转换。\n1、电脑通过网线或无线连接到光猫。请勿连接光纤！若已连接，请拔掉光纤重启再操作\n2、运行ONT组播配置工具程序，选择维修使能，并选择连接到光猫的网卡，点击启动。\n3、此时光猫所有指示灯闪烁，等到所有指示灯灭后，点击停止按钮，关闭工具程序，重新启动光猫。\n4、重新打开ONT组播配置工具，选择升级，点击浏览、选择文件HS8145C5_HS8145V5_V500R019_allShell.bin，点击启动。这时光猫所有指示灯闪烁，等到所有指示灯常亮，点击停止按钮，关闭工具程序，重新启动光猫。\n6、验证是否补全shell。先要开启Windows系统Telnet服务，开启方法：开始菜单—控制面板—程序和功能—打开或关闭Windows功能—勾选Telnet客户端—确定。\n点击开始菜单，在运行框里输入cmd （或者WIN+R—cmd），在DOS窗口输入以下命令：\ntelnet 192.168.1.1 回车\nroot 回车\nadminHW或Hw8"),s("a",{attrs:{href:"https://www.right.com.cn/forum/home.php?mod=space&uid=330976",target:"_blank",rel:"noopener noreferrer"}},[n._v("@CMCC"),s("OutboundLink")],1),n._v(" (华为界面是admin注意大小写，输入不显示，直接回车)\nsu 回车\nshell 回车\ncd /mnt/jffs2 回车\nls 回车\n看到很多可以执行的命令参数，证明补全shell成功了。")]),n._v(" "),s("p",[n._v('二、切换华为界面.改双模\ntelnet\nsu\nshell\nsu\nadmin\ncd /mnt/jffs2        （cd后有空格）\nvi hw_boardinfo\n1.华为界面\n（不要使用restorehwmode.sh不可恢复移动界面！！！！！！）\n按键盘下键，找到下面两条\nobj.id = "0x0000001a" ; obj.value = "CMCC";^M'),s("br"),n._v('\nobj.id = "0x0000001b" ; obj.value = "CMCC_RMSBRIDGE";^M  或obj.id = "0x0000001b" ; obj.value = "GDCMCC_RM";^M\n改为\nobj.id = "0x0000001a" ; obj.value = "COMMON";^M'),s("br"),n._v('\nobj.id = "0x0000001b" ; obj.value = "COMMON";^M\n2.改双模\n"0x00000001" ; obj.value = "4"\n英文状态下按字母：i ，进入编辑模式,:\n然后把光标移动到后引号下面，Backspace删除，把2改成4,(1代表GPON,2代表EPON,4代表E/G双模),\n按esc,然后输入:wq回车(注意冒号不能漏),然后reboot，重启光猫！\n检查，输入display deviceinfo 回车，UpPort mode=4，就大功告成了。')])])}),[],!1,null,null,null);s.default=t.exports}}]);