(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{466:function(a,t,n){"use strict";n.r(t);var e=n(3),s=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"p4-网络层和数据模型的封装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#p4-网络层和数据模型的封装"}},[a._v("#")]),a._v(" P4 - 网络层和数据模型的封装")]),a._v(" "),t("p",[a._v("每次做完更改后，点一下顶部的小大象同步一下")]),a._v(" "),t("p",[a._v("当你做完4.4网页儿里的步骤之后你会发现，红的还是蛮多的")]),a._v(" "),t("p",[a._v("我来告诉你怎么把一些东西解决掉")]),a._v(" "),t("p",[a._v("首先是vm.mine下的MineViewModel")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[a._v("导入这俩\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("androidx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("lifecycle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ViewModel")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" 你的"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("包名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ObservableUserInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("p",[a._v("它应该就好了")]),a._v(" "),t("p",[a._v("如果说你的DeviceFragment有问题，告诉你Cannot resolve symbol 'FragmentDeviceBinding'")]),a._v(" "),t("p",[a._v("你只需要在build.gradle里面")]),a._v(" "),t("p",[a._v("把这个：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    //开启数据绑定\n    dataBinding {\n        enabled = true\n    }\n")])])]),t("p",[a._v("换成这个：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    // 使用新的 DSL 开启绑定功能\n    buildFeatures {\n        viewBinding true     \n        dataBinding true     \n    }\n")])])]),t("p",[a._v("它应该就好了")]),a._v(" "),t("p",[a._v("如果你的MainActivity有问题，加上这几个它应该就好了")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("import androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport iot124.smarthome.databinding.ActivityMainBinding;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n")])])]),t("p",[a._v("然后没有报错后，编译运行一下，没问题应该就是OK的")]),a._v(" "),t("p",[a._v("如果你登录了发生了闪退的情况的话，可能是主题的问题，它没有ActionBar，把themes文件夹里的themes.xml")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Theme.Material3.DayNight.NoActionBar\n")])])]),t("p",[a._v("改成")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Theme.Material3.DayNight\n")])])]),t("p",[a._v("就是把NoActionBar去掉，这样应该就好了")]),a._v(" "),t("p",[a._v("如果你改完后发现有的东西被遮住了，你可以试一下这个方法，保留NoActionBar，但是注释这句话：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n")])])]),t("p",[a._v("另外的，如果你遇到这个报错：")]),a._v(" "),t("blockquote",[t("p",[a._v("Task :app:compileDebugJavaWithJavac\n注: C:\\Users\\Tars\\MainVault\\05.MyCode\\Android\\smarthome\\app\\src\\main\\java\\iot124\\smarthome\\ui\\LoginHandlerActivity.java使用或覆盖了已过时的 API。\n注: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。")])]),a._v(" "),t("p",[a._v("这个不用管，没有办法，不用理会")])])}),[],!1,null,null,null);t.default=s.exports}}]);