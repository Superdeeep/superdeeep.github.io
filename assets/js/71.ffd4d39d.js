(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{424:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("⚠️致读者⚠️")]),t._v(" "),s("p",[t._v("🚧本文正在施工中ing...🚧")]),t._v(" "),s("p",[t._v("错误多，不规范，比较混乱，请见谅！")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("⚠️致读者⚠️")]),t._v(" "),s("p",[t._v("注意 本记录适用于 Ubuntu")])]),t._v(" "),s("p",[t._v("需要有两台虚拟机，一台是控制节点，另一台是计算节点。")]),t._v(" "),s("p",[t._v("可以配置完一台虚拟机后复制虚拟机再做修改")]),t._v(" "),s("p",[t._v("你需要两台虚拟机都接在一台虚拟交换机上（虚拟网络，虚拟局域网）")]),t._v(" "),s("p",[t._v("包括你的实体主机也要有一张虚拟网卡接在虚拟交换机上")]),t._v(" "),s("p",[s("strong",[t._v("在控制节点：")])]),t._v(" "),s("p",[s("code",[t._v("hostnamectl set-hostname computer124")])]),t._v(" "),s("p",[s("strong",[t._v("设置 netplan 静态IP")])]),t._v(" "),s("p",[t._v("如果你用了别的网络管理器,请注意,不要让他们打架")]),t._v(" "),s("p",[s("code",[t._v("sudo vi /etc/netplan/01-network-manager-all.yaml")])]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Let NetworkManager manage all devices on this system")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("renderer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NetworkManager\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# This is the network config written by 'subiquity'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ethernets")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eth0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eth1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 192.168.2.24/24\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),s("p",[s("strong",[t._v("应用netplan设置")])]),t._v(" "),s("p",[s("code",[t._v("sudo netplan apply")])]),t._v(" "),s("p",[s("strong",[t._v("配置hosts")])]),t._v(" "),s("p",[t._v("注意：计算节点和控制节点都要配置host")]),t._v(" "),s("p",[s("code",[t._v("vim /etc/hosts")])]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[t._v("192.168.2.24  controller124\n192.168.2.25  computer124\n")])])]),s("p",[s("strong",[t._v("在计算节点：")])]),t._v(" "),s("p",[t._v("你同样需要设置")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("hostnamectl set-hostname computer124\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/netplan/01-network-manager-all.yaml\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" netplan apply\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/hosts\n")])])]),s("h3",{attrs:{id:"配置完后的测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置完后的测试"}},[t._v("#")]),t._v(" 配置完后的测试：")]),t._v(" "),s("p",[t._v("互相测试")]),t._v(" "),s("div",{staticClass:"language-apl extra-class"},[s("pre",{pre:!0,attrs:{class:"language-apl"}},[s("code",[t._v("ping controller124\nping computer124\n")])])]),s("p",[t._v("确保互相都可以ping通对方。")])])}),[],!1,null,null,null);s.default=e.exports}}]);