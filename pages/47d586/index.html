<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>小米r1d路由器折腾笔记 | Superdeep</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://vuepress.vuejs.org/404.html"><style>.theme-vdoing-content { display:none }</noscript>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/Superdeeep/photo@main/headmemini.ico">
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.1e1b9f74.css" as="style"><link rel="preload" href="/assets/js/app.fefb387c.js" as="script"><link rel="preload" href="/assets/js/4.660c2cdb.js" as="script"><link rel="preload" href="/assets/js/1.be6cb102.js" as="script"><link rel="preload" href="/assets/js/3.beb90c1d.js" as="script"><link rel="preload" href="/assets/js/81.5234306f.js" as="script"><link rel="prefetch" href="/assets/js/10.e9e7b1db.js"><link rel="prefetch" href="/assets/js/100.87549027.js"><link rel="prefetch" href="/assets/js/101.d169312e.js"><link rel="prefetch" href="/assets/js/102.bdb5d594.js"><link rel="prefetch" href="/assets/js/103.c9cff096.js"><link rel="prefetch" href="/assets/js/104.e14a57d5.js"><link rel="prefetch" href="/assets/js/105.5311982c.js"><link rel="prefetch" href="/assets/js/106.94473998.js"><link rel="prefetch" href="/assets/js/107.f317fde1.js"><link rel="prefetch" href="/assets/js/108.e26ff116.js"><link rel="prefetch" href="/assets/js/109.445af75f.js"><link rel="prefetch" href="/assets/js/11.634ea625.js"><link rel="prefetch" href="/assets/js/110.9c206ecb.js"><link rel="prefetch" href="/assets/js/111.f56e6d90.js"><link rel="prefetch" href="/assets/js/12.47b5d251.js"><link rel="prefetch" href="/assets/js/13.036ae39d.js"><link rel="prefetch" href="/assets/js/14.a63bf1ca.js"><link rel="prefetch" href="/assets/js/15.8d391541.js"><link rel="prefetch" href="/assets/js/16.22b2ce15.js"><link rel="prefetch" href="/assets/js/17.478bd939.js"><link rel="prefetch" href="/assets/js/18.2c5724d8.js"><link rel="prefetch" href="/assets/js/19.6ce23191.js"><link rel="prefetch" href="/assets/js/2.fc835b97.js"><link rel="prefetch" href="/assets/js/20.f7d69257.js"><link rel="prefetch" href="/assets/js/21.268aa33e.js"><link rel="prefetch" href="/assets/js/22.143be954.js"><link rel="prefetch" href="/assets/js/23.3452271a.js"><link rel="prefetch" href="/assets/js/24.c25e7817.js"><link rel="prefetch" href="/assets/js/25.52480e1a.js"><link rel="prefetch" href="/assets/js/26.5fc66dd2.js"><link rel="prefetch" href="/assets/js/27.d4be8bff.js"><link rel="prefetch" href="/assets/js/28.974a942f.js"><link rel="prefetch" href="/assets/js/29.19546e26.js"><link rel="prefetch" href="/assets/js/30.eff9d859.js"><link rel="prefetch" href="/assets/js/31.a1d61a5b.js"><link rel="prefetch" href="/assets/js/32.3344fcec.js"><link rel="prefetch" href="/assets/js/33.b3bbc74d.js"><link rel="prefetch" href="/assets/js/34.7cb7e677.js"><link rel="prefetch" href="/assets/js/35.bb1e189b.js"><link rel="prefetch" href="/assets/js/36.b27a0b39.js"><link rel="prefetch" href="/assets/js/37.eb01a14e.js"><link rel="prefetch" href="/assets/js/38.c7b46ccd.js"><link rel="prefetch" href="/assets/js/39.b818f2fa.js"><link rel="prefetch" href="/assets/js/40.62fc5d04.js"><link rel="prefetch" href="/assets/js/41.71c39b1c.js"><link rel="prefetch" href="/assets/js/42.75648976.js"><link rel="prefetch" href="/assets/js/43.c8b31416.js"><link rel="prefetch" href="/assets/js/44.f117a105.js"><link rel="prefetch" href="/assets/js/45.a46f564d.js"><link rel="prefetch" href="/assets/js/46.db8ea0a6.js"><link rel="prefetch" href="/assets/js/47.5b74a89e.js"><link rel="prefetch" href="/assets/js/48.3b188a44.js"><link rel="prefetch" href="/assets/js/49.148e3f25.js"><link rel="prefetch" href="/assets/js/5.30f62771.js"><link rel="prefetch" href="/assets/js/50.e5e20622.js"><link rel="prefetch" href="/assets/js/51.522f5791.js"><link rel="prefetch" href="/assets/js/52.7e610fee.js"><link rel="prefetch" href="/assets/js/53.ab78a310.js"><link rel="prefetch" href="/assets/js/54.19ad12ff.js"><link rel="prefetch" href="/assets/js/55.789e8c8d.js"><link rel="prefetch" href="/assets/js/56.bd43fbb0.js"><link rel="prefetch" href="/assets/js/57.b10b2cc3.js"><link rel="prefetch" href="/assets/js/58.3617fe4d.js"><link rel="prefetch" href="/assets/js/59.9830b321.js"><link rel="prefetch" href="/assets/js/6.b5d82f36.js"><link rel="prefetch" href="/assets/js/60.d1e9b2f6.js"><link rel="prefetch" href="/assets/js/61.9ef6c011.js"><link rel="prefetch" href="/assets/js/62.d1b04622.js"><link rel="prefetch" href="/assets/js/63.e80ca97f.js"><link rel="prefetch" href="/assets/js/64.42bd1034.js"><link rel="prefetch" href="/assets/js/65.f48bfbcd.js"><link rel="prefetch" href="/assets/js/66.c465fc8a.js"><link rel="prefetch" href="/assets/js/67.8200df3a.js"><link rel="prefetch" href="/assets/js/68.02cb5793.js"><link rel="prefetch" href="/assets/js/69.8d19b728.js"><link rel="prefetch" href="/assets/js/7.3ec9439b.js"><link rel="prefetch" href="/assets/js/70.eb12a6ae.js"><link rel="prefetch" href="/assets/js/71.e60c449c.js"><link rel="prefetch" href="/assets/js/72.a619981e.js"><link rel="prefetch" href="/assets/js/73.ee70990c.js"><link rel="prefetch" href="/assets/js/74.5616269c.js"><link rel="prefetch" href="/assets/js/75.341ed031.js"><link rel="prefetch" href="/assets/js/76.cd00c88d.js"><link rel="prefetch" href="/assets/js/77.72aa2d31.js"><link rel="prefetch" href="/assets/js/78.5fe52ba2.js"><link rel="prefetch" href="/assets/js/79.87281d39.js"><link rel="prefetch" href="/assets/js/80.1b2b9c5d.js"><link rel="prefetch" href="/assets/js/82.8fc9abf8.js"><link rel="prefetch" href="/assets/js/83.242c5e10.js"><link rel="prefetch" href="/assets/js/84.1c4554d3.js"><link rel="prefetch" href="/assets/js/85.e3fbd616.js"><link rel="prefetch" href="/assets/js/86.c73db4b8.js"><link rel="prefetch" href="/assets/js/87.e1b0efb9.js"><link rel="prefetch" href="/assets/js/88.08a6885c.js"><link rel="prefetch" href="/assets/js/89.de78a0dc.js"><link rel="prefetch" href="/assets/js/90.a9098846.js"><link rel="prefetch" href="/assets/js/91.15c7847b.js"><link rel="prefetch" href="/assets/js/92.fabd019d.js"><link rel="prefetch" href="/assets/js/93.323fc900.js"><link rel="prefetch" href="/assets/js/94.3fde9166.js"><link rel="prefetch" href="/assets/js/95.b3d37422.js"><link rel="prefetch" href="/assets/js/96.2e44c00b.js"><link rel="prefetch" href="/assets/js/97.60e69791.js"><link rel="prefetch" href="/assets/js/98.71705908.js"><link rel="prefetch" href="/assets/js/99.4303a79d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.3cad7405.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1e1b9f74.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/topme.png" alt="Superdeep" class="logo"> <span class="site-name can-hide">Superdeep</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/pages/acfadc/" class="nav-link">笔记</a></div><div class="nav-item"><a href="/pages/a08e4d/" class="nav-link">趣闻</a></div><div class="nav-item"><a href="/pages/c85104/" class="nav-link">好物</a></div> <a href="https://github.com/Superdeeep/code" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo@main/melogomini.png"> <div class="blogger-info"><h3>Superdeep</h3> <span>(￣▽￣)</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/pages/acfadc/" class="nav-link">笔记</a></div><div class="nav-item"><a href="/pages/a08e4d/" class="nav-link">趣闻</a></div><div class="nav-item"><a href="/pages/c85104/" class="nav-link">好物</a></div> <a href="https://github.com/Superdeeep/code" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>折腾</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/555b1e/" class="sidebar-link">更换华为P9电池</a></li><li><a href="/pages/47d586/" aria-current="page" class="active sidebar-link">小米r1d路由器折腾笔记</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/4f12a1/" class="sidebar-link">获取中兴F412光猫超级管理密码</a></li><li><a href="/pages/cba9ff/" class="sidebar-link">ipad mini1复活笔记</a></li><li><a href="/pages/3c68b2/" class="sidebar-link">安卓应用折腾</a></li><li><a href="/pages/72a5e1/" class="sidebar-link">华为主题修改与制作（轻雨）</a></li><li><a href="/pages/c56140/" class="sidebar-link">打造良好多终端写作体验</a></li><li><a href="/pages/e4eb87/" class="sidebar-link">360摄像头防护文件更改</a></li><li><a href="/pages/4caf72/" class="sidebar-link">清理脚本</a></li><li><a href="/pages/48a575/" class="sidebar-link">随身adb</a></li><li><a href="/pages/b26a85/" class="sidebar-link">Proxmark3</a></li><li><a href="/pages/2068d1/" class="sidebar-link">华为P9刷机指南</a></li><li><a href="/pages/600ec1/" class="sidebar-link">小米max折腾</a></li><li><a href="/pages/e4aeaa/" class="sidebar-link">华为光猫HS8546V5获取超级密码</a></li><li><a href="/pages/209d8d/" class="sidebar-link">Vercel+Onedrive=一个假的网盘！</a></li><li><a href="/pages/7ec0b7/" class="sidebar-link">iPhoneSE 2 插件折腾体验</a></li><li><a href="/03.笔记和折腾/05.折腾/18.termux&amp;codefa.html" class="sidebar-link">termux和code fa折腾笔记</a></li><li><a href="/pages/67f210/" class="sidebar-link">WireGuard异地组网踩坑日记</a></li><li><a href="/pages/909b24/" class="sidebar-link">修复IOS越狱dpkg被中断错误</a></li><li><a href="/pages/a10a70/" class="sidebar-link">在Sing-box上使用WireGuard</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%AC%94%E8%AE%B0%E5%92%8C%E6%8A%98%E8%85%BE" title="分类" data-v-06225672>笔记和折腾</a></li><li data-v-06225672><a href="/categories/?category=%E6%8A%98%E8%85%BE" title="分类" data-v-06225672>折腾</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>Superdeep</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-08-02</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">小米r1d路由器折腾笔记<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>目的：让r1d成为一个小nas</p> <p>环境：路由器AC一体机+AP</p> <p>1、需要将将小米刷成tomato无盘运行系统</p> <p>如果只是当个nas用可以用官方的系统即可，当然你愿意像我一样折腾也可以😂</p> <p>那么先开始折腾！</p> <p>恩山无线已经有教程里，这里先复制一份</p> <p>目标系统tomato！</p> <p>Tomato的主要特点包括易于设置和高效的QoS，相对DD-WRT更易用的界面以及极少需要在保存设置时重启。</p> <p>近年俄罗斯大神对tomato系统进行了修改，使同样用BCM4709芯片的小米路由器可以用tomato操作系统了。虽然笔者力求用正确的方法引导大家玩机，但毕竟刷机有风险，操作需谨慎，责任自承担。稳妥一些就最好准备上编程器吧。下面跟我来刷机！</p> <p>第一步，准备工作。</p> <p>1.小米路由器R1D一台。</p> <p>2.打开路由器SSH。<a href="http://d.miwifi.com/rom/ssh" target="_blank" rel="noopener noreferrer">http://d.miwifi.com/rom/ssh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>3.下载tomato操作系统，下载带有R1D标识的就可以，一般13M左右，130以后版本的都有简体中文选择。  <a href="https://bitbucket.org/tsynik/tomato-arm/downloads" target="_blank" rel="noopener noreferrer">https://bitbucket.org/tsynik/tomato-arm/downloads<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>4.下载刷机工具包 <a href="https://wwz.lanzout.com/iVFIM08rrxmd" target="_blank" rel="noopener noreferrer">https://wwz.lanzout.com/iVFIM08rrxmd<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 密码:bcfk</p> <p>第二步，前期工作。</p> <p>1.由于小米路由器引导和tomato不同，需要修改cfe.bin并且稍后更换。两步走，一是打开小米路由器管理后台，记下你小米路由器的MAC 。</p> <p>二是用工具包的cfe编辑器，打开cfe_stock.bin文件，按下面截图提示修改并且保存cfe.bin文件备用</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/CFE43f344a26350eb190bc296eb6b95997.png" alt=""></p> <p>2.把修改后的 cef.bin文件以及工具包里的backup.sh、flash-cfe.sh 共 3 個文件放到U盘中，插入小米路由器 USB 待用。</p> <p>第三步，刷机开始。</p> <p>1.用Xshell 4或者putty.exe之类打开SSH操作。进入U盘 。</p> <p><code>cd /extdisks/sdb1</code>（这个U盘位置各人可能不同，自己修正）    回车。</p> <p>2.首先进行小米路由器备份。这一步非常重要。因为我们刷机第三方系统，今后要恢复原系统要靠这些备份。</p> <p><code>./backup.sh</code>    回车</p> <p>约半分钟左右，备份完毕。</p> <p>3.更换cfe.bin。</p> <p><code>./flash-cfe.sh</code>   回车</p> <p>几秒钟后cfe，更换完成，拿下U盘，备份妥善保存。</p> <p>4.确认刷机后门打开。</p> <p><code>nvram set boot_wait=on &amp;&amp; nvram set wait_time=10 &amp;&amp; nvram commit &amp;&amp; nvram show |grep wait</code>    回车</p> <p>屏幕有</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">boot_wait</span><span class="token operator">=</span>on      

<span class="token assign-left variable">wait_time</span><span class="token operator">=</span><span class="token number">10</span>
</code></pre></div><p>的显示为成功。</p> <p>5.修改电脑本地IP设置。</p> <p>其一，进入本地网络连接，点击网络属性</p> <p>其二，下图选择internet协议版本4，点击属性</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/ip44044f193176eb27a69f3710580a8df7.png" alt=""></p> <p>其三，下图指定IP地址，按确定。</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/ipv4set062b58671aff43389f5ce5fda31147c.png" alt=""></p> <p>提醒：刷机完毕记得修改回原来的‘自动获取IP地址’，否则电脑不能上网的哦。</p> <p>6.网页打开192.168.1.1 ，小米路由器lan口用网线和电脑连接，路由器拔下电源重启，指示灯转黄灯，稍等一会即会有以下显示</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/cfeupload202827fv743gkkig0jpwk9.png" alt=""></p> <p>按选择文件找到你下载的tomato固件，再按上传 （Upload）注意左下角有正在上传文件的百分比</p> <p>ps:我就卡在这一步，死活上传不了，最后编程器都上了，最终还是刷坏了，问题是无法擦除芯片。</p> <p>上传很快，一般几十秒可以，成功即有下图</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/recive202925y4nx55xq3zx2qd2u.png" alt=""></p> <p>此处是固件安装和重启，需要时间较长，等3-5分钟或者更长时间，到黄灯转蓝灯即成功。这里如果重启不能显示cfe刷机服务标志，又或者上传不能开始，上传时间过长（超过1分钟），上传中途中断等，不用灰心。黄灯不可怕，可能是缓存问题，只需要拔下电源，长按reset键再插电30秒以上。重新操作直到黄灯转蓝灯，最后在网页输入192.168.1.1，会弹出要求的登录名和密码框框，同样都输入admin即可进入tomato设置。</p> <p>刷机就完成了！</p> <p>ps:</p> <p>我最终还是淘了个二手，别人已经刷好的😫。</p> <p>没错，这玩意需要运气！😭</p> <p>既然已经有了台现成品，那就让它成为家庭nas吧！</p> <p>这里的设置和操作是针对已经有主路由器的用户，如果你想把r1d当作你的主路由无需进行这些操作，直接用就好。</p> <p>1、配置wan与lan，让r1d有一个内网ip可访问和管理。</p> <p>wan配置如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/wan96f993b0a82cbc66ab23fe8f73a61fc.png" alt=""></p> <p>lan配置如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/lan3d9e6b77c7aaa7df92ab39ade41ce27.png" alt=""></p> <p>2、再进入tomato管理页面的USB&amp;NAS的文件共享</p> <p>客户端代码页选择936</p> <p>共享列表里面记得添加你的硬盘路径，一般来说硬盘会自动挂载到/tmp/mnt/sda1</p> <p>你也可以去USB支持里面去查看已连接的设备，会显示你的硬盘的挂载目录</p> <p>还有媒体服务器啥的都可以打开🤩</p> <p>ps：这里路径直接写<code>/sda1</code></p> <p>记得跟数据有关的都填你的硬盘路径，不然可就挤爆闪存了😂</p> <p>3、打开ftp服务器（它在web服务选项里面）</p> <p>目录示例：</p> <p>目录</p> <p>匿名根目录 *   /mnt/sda1 (匿名连接)</p> <p>公共根目录 *   /mnt/sda1 (通过身份验证的用户访问,如果没有指定用户)</p> <p>私有根目录 **  /mnt/sda1 (为认证用户以私有模式访问)</p> <p>用户帐户建议添加，密码简单点没太大问题（只要你不在家里开服务器😂）</p> <p>4、4被我吃掉了😋</p> <p>5、电影体验</p> <p>如果你直接挂载r1d的硬盘到本地的话，1-3GB左右的电影基本能够看，但是由于smb协议，网络性能等等问题会出现卡顿的问题，看一部电影居然能卡2次</p> <p>建议使用potplayer里面的远程连接使用ftp进行观看电影，实测下来，观看10GB以下电影不会出现问题，10GB以上可能会有问题，跟电脑解码性能也有关系。</p> <p>小米路由R1D官版固件打开硬盘访问终极方案</p> <p>记得r1d要是主路由。</p> <p>啥也不说了😂</p> <p>上图😁</p> <h3 id="打开samba"><a href="#打开samba" class="header-anchor">#</a> 打开samba</h3> <div class="center-container"><p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/miwifi1.jpg" alt=""></p></div><h3 id="打开全盘访问"><a href="#打开全盘访问" class="header-anchor">#</a> 打开全盘访问</h3> <div class="center-container"><p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/miwifi3.jpg" alt=""></p></div><h3 id="打开网络发现"><a href="#打开网络发现" class="header-anchor">#</a> 打开网络发现</h3> <div class="center-container"><p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/miwifi2.png" alt=""></p></div><h3 id="启动服务"><a href="#启动服务" class="header-anchor">#</a> 启动服务</h3> <div class="center-container"><p><img src="https://cdn.jsdelivr.net/gh/Superdeeep/photo/miwifi4.png" alt=""></p></div><h3 id="注册表"><a href="#注册表" class="header-anchor">#</a> 注册表</h3> <p><code>计算机\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LanmanWorkstation\Parameters</code></p> <div class="center-container"><p><img src="https://cdn.jsdelivr.net/gh/Daoep/photo/miwifi5.png" alt=""></p></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Superdeeep/code/edit/master/docs/03.笔记和折腾/05.折腾/02.小米r1d折腾笔记.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/555b1e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">更换华为P9电池</div></a> <a href="/pages/4f12a1/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">获取中兴F412光猫超级管理密码</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/555b1e/" class="prev">更换华为P9电池</a></span> <span class="next"><a href="/pages/4f12a1/">获取中兴F412光猫超级管理密码</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/a10a70/"><div>
            在Sing-box上使用WireGuard
            <!----></div></a> <span class="date">01-10</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d73d83/"><div>
            记一次.ASF的转换
            <!----></div></a> <span class="date">11-17</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/163443/"><div>
            记录重新部署SVC
            <!----></div></a> <span class="date">11-09</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:superdeeep@outlook.com" title="发我邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Superdeeep/superdeeep.github.io" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/song?id=1856233056" title="音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2025
    <span>| 友链❤：<"">友链挂了TAT</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><div></div><div></div></div></div>
    <script src="/assets/js/app.fefb387c.js" defer></script><script src="/assets/js/4.660c2cdb.js" defer></script><script src="/assets/js/1.be6cb102.js" defer></script><script src="/assets/js/3.beb90c1d.js" defer></script><script src="/assets/js/81.5234306f.js" defer></script>
  </body>
</html>
